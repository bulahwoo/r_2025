---
title: R Basics Part 2
date: "18 September 2025"
output:
  html_document:
    toc: true
    toc_depth: 3
    toc_float: true
    number_sections: true
---

---

# Install the package "ggplot2"

- Open a terminal window. Launch RStudio by running:

  - *$ rstudio \-\-no-sandbox*
 
- In the console panel (bottom-left), run:

```{r, eval=FALSE}
install.packages("ggplot2")
```

![](part1_raw/gap.png)
&nbsp;

# Review

- **numeric/character/logical** objects

- How to create an object

- What is a vector? What is the function `c()`?

- What is a data frame? What is the function `data.frame()`?

- How to use index to get the element(s) of a vector/data frame

- How to export and import tubular data (tables)

![](part1_raw/gap.png)
&nbsp;

# More about "save your data"

## Save a script

- Paste this code to the source panel and run it. You can see 4 objects in the environment panel (top-right).

```{r, eval=FALSE}
setwd("~/Document/r_tutorial_part2") # modify the path if necessary
basic <- 100 * 12345
dog <- basic * 3
bird <- basic / 3
fox <- basic * 30
```

- Click `File` -> `Save` to save the text in the source panel.

![](part1_raw/gap.png)
&nbsp;

## Save an object

- Consider the code above. Imagine if:

```{r, eval=FALSE}
setwd("~/Document/r_tutorial_part2")  # modify the path if necessary
basic <- 100 * 12345 # It takes 2 weeks to create this object
dog <- basic * 3     # It takes 2 seconds to create this object
bird <- basic / 3    # It takes 2 seconds to create this object
fox <- basic * 30    # It takes 1 day to create this object
```

- To save one or more objects, run:

```{r, eval=FALSE}
save(basic, fox, file = "xxxxx.RData") # Name it what you want
```

---

- Let's try:

  - Save objects `basic` and `fox` as one file `xxxxx.RData`.

  - Clear objects from the workspace.

  - Save the text (script) in the source panel.

  - Close the source panel.

  - Open the script file (`File` -> `Open File`). ***Don't run the code!***

  - Run this command to load the file `xxxxx.RData`:

```{r}
load(file = "xxxxx.RData") # modify the path if necessary
```

![](part1_raw/gap.png)
&nbsp;

# Data manipulation

## Useful functions to check data structure

- For one-dimensional vector, we use:

  - `typeof()` to check the type of an object

  - `length()` to check the number of elements in an object

- Create a numeric vector and a character data frame.

```{r}
chr_vec <- c("E", "O", "U", "A", "I")
num_vec <- c(34, 5, 8, 741, 1000, 27, 4444, 84, 9)
```

- Use `typeof()` and `length()` to check properties of the created vectors.

```{r}
typeof(chr_vec)
length(chr_vec)
typeof(num_vec)
length(num_vec)
```

---

- Two-dimensional data frame, we use:

  - `str()` to obtain the number of observations (rows) and variables (columns), the type, and a preview of the first few elements in each column
  
  - `dim()` to retrieve the dimensions of an object

- Use `str()` and `dim()` to check properties of the built-in data frame `airquality`

```{r}
str(airquality)
str(airquality)
```

---

- Honorable mentions

  - `head()` to view the first part of an object
  
  - `tail()` to view the last part of an object
  
  - `summary()` to summarize an object

- Use `head()`, `tail()`, and `summary()` to check the built-in data frame `airquality`

```{r}
head(airquality, 7)
tail(airquality, 23)
summary(airquality)
```

![](part1_raw/gap.png)
&nbsp;

## Subsetting data frames

- We use the bracket notation `[index_1, index_2]` to access the indices for the observations (rows) and the variables (columns). The first index is for **rows**, and the second index is for **columns**.

```{r df02, echo=FALSE, out.width = "600px"}
knitr::include_graphics("part1_raw/data-frame2.svg")
```

```{r df03, echo=FALSE, out.width = "600px"}
knitr::include_graphics("part1_raw/dataframe3.png")
```

---

- Let's play with the built-in data frame `mtcars`.

```{r}
# select row 3, columns 2
mtcars[3, 2]
```

```{r}
# select row 1, columns 2 and 3
mtcars[1, c(2, 3)]
```

```{r}
# select row 5, all column
mtcars[5, ]
```

---

```{r}
# select all rows, columns 2
mtcars[, 2]
```

```{r}
# select all row, columns cyl
mtcars[, "cyl"]
```

---

- **Exercise**: select all rows, columns 2, 3, 4 and 5 from the data frame `mtcars`.

![](part1_raw/gap.png)
&nbsp;
